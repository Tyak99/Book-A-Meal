{"version":3,"sources":["../app.js"],"names":["swaggerJSDoc","require","config","app","swaggerDefinition","info","title","version","description","host","basePath","options","apis","swaggerSpec","get","req","res","sendFile","path","join","__dirname","setHeader","send","use","express","json","urlencoded","extended","authRoute","mealRoutes","orderRoutes","menuRoutes","roleRoute","PORT","process","env","listen","console","log","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AAGAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AACA,IAAMC,GAAG,GAAG,uBAAZ,C,CAGA;;AACA,IAAMC,iBAAiB,GAAG;AACxBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,aADH;AAEJC,IAAAA,OAAO,EAAE,OAFL;AAGJC,IAAAA,WAAW,EAAE;AAHT,GADkB;AAMxBC,EAAAA,IAAI,EAAE,8CANkB;AAOxBC,EAAAA,QAAQ,EAAE;AAPc,CAA1B,C,CASA;;AACA,IAAMC,OAAO,GAAG;AACd;AACAP,EAAAA,iBAAiB,EAAjBA,iBAFc;AAGd;AACAQ,EAAAA,IAAI,EAAE,CAAC,sBAAD;AAJQ,CAAhB;AAOA,IAAMC,WAAW,GAAGb,YAAY,CAACW,OAAD,CAAhC;AAEAR,GAAG,CAACW,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7BA,EAAAA,GAAG,CAACC,QAAJ,CAAaC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAb;AACD,CAFD;AAGAjB,GAAG,CAACW,GAAJ,CAAQ,eAAR,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrCA,EAAAA,GAAG,CAACK,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAL,EAAAA,GAAG,CAACM,IAAJ,CAAST,WAAT;AACD,CAHD;AAIAV,GAAG,CAACoB,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AACAtB,GAAG,CAACoB,GAAJ,CAAQC,iBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AAEAxB,GAAG,CAACoB,GAAJ,CAAQ,cAAR,EAAwBK,aAAxB;AACAzB,GAAG,CAACoB,GAAJ,CAAQ,cAAR,EAAwBM,aAAxB;AACA1B,GAAG,CAACoB,GAAJ,CAAQ,eAAR,EAAyBO,cAAzB;AACA3B,GAAG,CAACoB,GAAJ,CAAQ,cAAR,EAAwBQ,aAAxB;AACA5B,GAAG,CAACoB,GAAJ,CAAQ,cAAR,EAAwBS,aAAxB;AAEA7B,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,EAAAA,GAAG,CAACM,IAAJ,CAAS,mCAAT;AACD,CAFD;AAIA,IAAMW,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA9B,GAAG,CAACiC,MAAJ,CAAWH,IAAX,EAAiB,YAAM;AACrBI,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBrC,GAAjB","sourcesContent":["import express from 'express';\nimport path from 'path';\nimport authRoute from './routes/auth';\nimport mealRoutes from './routes/meal';\nimport orderRoutes from './routes/order';\nimport menuRoutes from './routes/menu';\nimport roleRoute from './routes/role';\n\nconst swaggerJSDoc = require('swagger-jsdoc');\n\n\nrequire('dotenv').config();\n// routes\nconst app = express();\n\n\n// -- setup up swagger-jsdoc --\nconst swaggerDefinition = {\n  info: {\n    title: 'Book a meal',\n    version: '1.0.0',\n    description: 'All things meal',\n  },\n  host: 'https://protected-waters-12782.herokuapp.com',\n  basePath: '/',\n};\n// options for the swagger docs\nconst options = {\n  // import swaggerDefinitions\n  swaggerDefinition,\n  // path to the API docs\n  apis: ['./server/routes/*.js'],\n};\n\nconst swaggerSpec = swaggerJSDoc(options);\n\napp.get('/docs', (req, res) => {\n  res.sendFile(path.join(__dirname, 'redoc.html'));\n});\napp.get('/swagger.json', (req, res) => {\n  res.setHeader('Content-Type', 'application/json');\n  res.send(swaggerSpec);\n});\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use('/api/v1/auth', authRoute);\napp.use('/api/v1/meal', mealRoutes);\napp.use('/api/v1/order', orderRoutes);\napp.use('/api/v1/menu', menuRoutes);\napp.use('/api/v1/role', roleRoute);\n\napp.get('/', (req, res) => {\n  res.send('<h1> Welcome to book a meal </h1>');\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n  console.log('server started');\n});\n\nmodule.exports = app;\n"],"file":"app.js"}